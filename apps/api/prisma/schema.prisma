generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model ProductItem {
  id          String   @id @default(uuid())
  name        String
  price       Int
  promo       Int?     @default(0)
  description String?
  images      String[]
  stock       Int      @default(0)
  vendors     String
  category    String
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @default(now()) @updatedAt @map("updated_at")

  @@map("product_items")
}

model User {
  id          String   @id @default(uuid())
  firebaseUid String   @unique @map("firebase_uid")
  email       String?
  name        String?
  phone       String?
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @default(now()) @updatedAt @map("updated_at")

  @@map("users")
}

model Transaction {
  id                 String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  order_id           String    @unique @map("order_id") @db.VarChar(255)
  user_email         String    @map("user_email") @db.VarChar(255)
  gross_amount       Int?      @map("amount")
  transaction_status String?   @map("transaction_status") @db.VarChar(50) @default("pending")
  items              Json?
  created_at         DateTime? @default(now()) @map("created_at") @db.Timestamp(6)
  updated_at         DateTime? @updatedAt @map("updated_at") @db.Timestamp(6)

  @@map("transactions")
}
